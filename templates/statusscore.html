<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/body.css">
    <script src="/static/js/jquery-3.5.1.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>学生信息管理系统 - 学生查询</title>
</head>
<body>
<div class="container">
    <div class="row justify-content-center" style="height:600px">
        <div class="align-self-center" style="text-align:center;">
            <h2>选择学生</h2>
            <select id="no" class="form-control">
                {% for i in StatusTable %}
                    <option>{{i['Num']}}</option>
                {% endfor %}
            </select>
            <br />
            <h3>学生信息</h3>
            {% for i in StatusTable %}
            <table class="{{i['Num']}} table table-hover" style="display:none;">
                <thead>
                <tr>
                    <th>账号</th>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>性别</th>
                    <th>年龄</th>
                    <th>系</th>
                    <th>年级</th>
                    <th>班级</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>{{i['account']}}</td>
                    <td>{{i['Num']}}</td>
                    <td>{{i['Name']}}</td>
                    <td>{% if i['sex'] == 'Male' %}男{% elif i['sex'] == 'Female' %}女{% endif
                        %}
                    </td>
                    <td>{{i['Age']}}</td>
                    <td>{{i['Dept']}}</td>
                    <td>{{i['Grade']}}</td>
                    <td>{{i['Class']}}</td>
                </tr>
                </tbody>
            </table>
            {% endfor %}
            <br/>
            <h3>学生成绩</h3>
            {% for i in ScoreTable %}

            <table class="{{i[0]['Snum']}} table table-hover" style="display:none;">
                <tr>
                    <th>课程名</th>
                    <th>教师</th>
                    <th>成绩</th>
                    <th>学年</th>
                </tr>
                {% for item in i %}
                <tr>
                    <td>{{item['course']}}</td>
                    <td>{{item['Tnum']}}</td>
                    <td>{{item['score']}}</td>
                    <td>{{item['grade']}}</td>
                </tr>
                {% endfor %}

            </table>
            <span class="{{i[0]['Snum']}}" style="display:none;"><b>平均成绩：</b>{{avgs[i[0]['Snum']]}}</span>
            {% endfor %}
            <a href="/" role="button" class="btn btn-lg btn-primary btn-block">返回首页</a>

        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        $("." + $("#no").val()).show();
    })
    $("#no").change(function(){
        $("#no option").each(function(){
            $("." + $(this).val()).hide();
        })
        $("." + $("#no").val()).show();
    })
</script>
</body>
</html>